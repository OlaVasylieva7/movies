{"version":3,"file":"index.js","sources":["../src/js/get.js","../src/js/post.js","../src/js/patch.js","../src/js/modal.js"],"sourcesContent":["const allBtn = document.getElementById('all-button');\nconst moviesList = document.getElementById('movies__container');\n\nallBtn.addEventListener('click', allBtnClick);\n\nconst BASE_URL = 'http://localhost:3000';\n\nasync function fetchMovies() {\n  const response = await fetch(`${BASE_URL}/movies`);\n\n  if (!response.ok) {\n    throw new Error('failed to fetch');\n  }\n  return await response.json();\n}\n\nasync function allBtnClick() {\n  try {\n    const movies = await fetchMovies();\n    renderMovies(movies);\n  } catch (error) {\n    console.error('failed to render')\n  }\n}\n\nfunction renderMovies(movies) {\n  const markUp = movies\n    .map(({image, title, genre, year, id}) => ` <li class=\"movies__item\">\n  <div>\n    <img class=\"movies__image\" src=\"${image}\" alt=\"#\"  onerror=\"this.src='https://via.placeholder.com/150';\" />\n    <h2 class=\"movies__title\"><b>Title: </b>${title}</h2>\n    <p class=\"movies__genre\"><b>Genre: </b>${genre}</p>\n    <p class=\"movies__year\"><b>Year: </b>${year}</p>\n  </div>\n  <div>\n      <button class=\"movies__item-btn\" type=\"button\" id=\"edit\">edit</button>\n      <button class=\"movies__item-btn\" type=\"button\" id=\"${id}\">delete</button>\n  </div>\n</li>`\n    )\n    .join('');\n\n  moviesList.insertAdjacentHTML('beforeend', markUp);\n}\n","const BASE_URL = 'http://localhost:3000';\n\nconst form = document.getElementById('form');\nform.addEventListener('submit', onFormSubmit);\n\nfunction postMovie(newMovie) {\n  const options = {\n    method: 'POST',\n    body: JSON.stringify(newMovie),\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n  };\n  return fetch(`${BASE_URL}/movies`, options).then(response => {\n    if (!response.ok) {\n      throw new Error('failed to post');\n    }\n    return response.json();\n  });\n}\n\nfunction onFormSubmit(e) {\n  e.preventDefault();\n\n  const formData = new FormData(e.currentTarget);\n  const newMovie = {};\n  formData.forEach((value, key) => {\n    newMovie[key] = value;\n  });\n\n  postMovie(newMovie)\n    .then(() => {\n      alert('movie added');\n    })\n    .catch(error => {\n      console.error('failed to add');\n    });\n}\n\n","const BASE_URL = 'http://localhost:3000';\n\nconst movieToUpdate = {\n  genre: \"Comedy\",\n  year: 1990,\n};\n\nfunction updateMovie(movieToUpdate, movieId) {\n  const options = {\n    method: 'PATCH',\n    body: JSON.stringify(movieToUpdate),\n    headers: {\n      'Content-Type': 'application/json; charset=UTF-8',\n    },\n  };\n\n  return fetch(`${BASE_URL}/movies/${movieId}`, options).then(response =>\n    response.json()\n  );\n}\n\nupdateMovie(movieToUpdate, 3);\n","const addButton = document.getElementById('add-button');\nconst closeButton = document.getElementById('close-modal-btn');\nconst modal = document.getElementById('modal');\n\naddButton.addEventListener('click', toggleModal);\ncloseButton.addEventListener('click', toggleModal);\n\nfunction toggleModal() {\n  modal.classList.toggle('is-hidden');\n}"],"names":["allBtn","moviesList","allBtnClick","BASE_URL","fetchMovies","response","movies","renderMovies","markUp","image","title","genre","year","id","form","onFormSubmit","postMovie","newMovie","options","e","formData","value","key","error","movieToUpdate","updateMovie","movieId","addButton","closeButton","modal","toggleModal"],"mappings":"ssBAAA,MAAMA,EAAS,SAAS,eAAe,YAAY,EAC7CC,EAAa,SAAS,eAAe,mBAAmB,EAE9DD,EAAO,iBAAiB,QAASE,CAAW,EAE5C,MAAMC,EAAW,wBAEjB,eAAeC,GAAc,CAC3B,MAAMC,EAAW,MAAM,MAAM,GAAGF,CAAQ,SAAS,EAEjD,GAAI,CAACE,EAAS,GACZ,MAAM,IAAI,MAAM,iBAAiB,EAEnC,OAAO,MAAMA,EAAS,MACxB,CAEA,eAAeH,GAAc,CAC3B,GAAI,CACF,MAAMI,EAAS,MAAMF,IACrBG,EAAaD,CAAM,CACpB,MAAe,CACd,QAAQ,MAAM,kBAAkB,CACjC,CACH,CAEA,SAASC,EAAaD,EAAQ,CAC5B,MAAME,EAASF,EACZ,IAAI,CAAC,CAAC,MAAAG,EAAO,MAAAC,EAAO,MAAAC,EAAO,KAAAC,EAAM,GAAAC,CAAE,IAAM;AAAA;AAAA,sCAERJ,CAAK;AAAA,8CACGC,CAAK;AAAA,6CACNC,CAAK;AAAA,2CACPC,CAAI;AAAA;AAAA;AAAA;AAAA,2DAIYC,CAAE;AAAA;AAAA,MAGxD,EACA,KAAK,EAAE,EAEVZ,EAAW,mBAAmB,YAAaO,CAAM,CACnD,CC3CA,MAAML,EAAW,wBAEXW,EAAO,SAAS,eAAe,MAAM,EAC3CA,EAAK,iBAAiB,SAAUC,CAAY,EAE5C,SAASC,EAAUC,EAAU,CAC3B,MAAMC,EAAU,CACd,OAAQ,OACR,KAAM,KAAK,UAAUD,CAAQ,EAC7B,QAAS,CACP,eAAgB,iCACjB,CACL,EACE,OAAO,MAAM,GAAGd,CAAQ,UAAWe,CAAO,EAAE,KAAKb,GAAY,CAC3D,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,gBAAgB,EAElC,OAAOA,EAAS,MACpB,CAAG,CACH,CAEA,SAASU,EAAaI,EAAG,CACvBA,EAAE,eAAc,EAEhB,MAAMC,EAAW,IAAI,SAASD,EAAE,aAAa,EACvCF,EAAW,CAAA,EACjBG,EAAS,QAAQ,CAACC,EAAOC,IAAQ,CAC/BL,EAASK,CAAG,EAAID,CACpB,CAAG,EAEDL,EAAUC,CAAQ,EACf,KAAK,IAAM,CACV,MAAM,aAAa,CACzB,CAAK,EACA,MAAMM,GAAS,CACd,QAAQ,MAAM,eAAe,CACnC,CAAK,CACL,CCrCA,MAAMpB,EAAW,wBAEXqB,EAAgB,CACpB,MAAO,SACP,KAAM,IACR,EAEA,SAASC,EAAYD,EAAeE,EAAS,CAC3C,MAAMR,EAAU,CACd,OAAQ,QACR,KAAM,KAAK,UAAUM,CAAa,EAClC,QAAS,CACP,eAAgB,iCACjB,CACL,EAEE,OAAO,MAAM,GAAGrB,CAAQ,WAAWuB,CAAO,GAAIR,CAAO,EAAE,KAAKb,GAC1DA,EAAS,KAAM,CACnB,CACA,CAEAoB,EAAYD,EAAe,CAAC,ECrB5B,MAAMG,EAAY,SAAS,eAAe,YAAY,EAChDC,EAAc,SAAS,eAAe,iBAAiB,EACvDC,EAAQ,SAAS,eAAe,OAAO,EAE7CF,EAAU,iBAAiB,QAASG,CAAW,EAC/CF,EAAY,iBAAiB,QAASE,CAAW,EAEjD,SAASA,GAAc,CACrBD,EAAM,UAAU,OAAO,WAAW,CACpC"}